id: SPEC-001
title: "Validation Pipeline Implementation"
status: "in-progress"
type: "technical"
related:
  features:
    - "FEAT-001"
  services:
    - "svc-git"
  packages:
    - "pkg-context-sync"
content: |
  ## Overview
  The validation pipeline validates YAML entity files against JSON schemas using AJV.

  ## Implementation
  1. Load all JSON schemas from .context/schemas/
  2. Parse YAML files from contexts/ directories
  3. Validate each entity against its schema using AJV
  4. Check cross-references between entities
  5. Return validation results as JSON

  ## Error Reporting
  - Validation errors must include file path, entity id, error type, and detailed message.
  - Cross-reference errors must specify missing/invalid references.
  - Output should support integration with desktop UI (see US-001 acceptance criteria).
  - Errors must be actionable and designed to support recovery flows in the UI.

  ## Exit Codes
  - 0: All validations passed
  - 1: Validation errors found
